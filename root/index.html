<!DOCTYPE html>
<html>
<head>
    <title>Le Restaurant Webserv</title>
</head>
<body>
    <div>
        <h1>Bonjour!</h1>
        <p>Welcome to Le Restaurant Webserv</p>
    </div>
    <div>
        <h2>Order Food</h2>
        <p>Place an order using the form below:</p>
        <form action="cgi/post.cgi" method="post" enctype="application/x-www-form-urlencoded">
            <label for="starter">Starter:</label>
            <input type="text" name="starter" id="starter" value="Soup">
            <br>
            <label for="main">Main:</label>
            <input type="text" name="main" id="main" value="Pasta">
            <br>
            <label for="dessert">Dessert:</label>
            <input type="text" name="dessert" id="dessert" value="Tiramisu">
            <br>
            <input type="submit" value="Submit Order">
        </form>
    </div>

    <div>
        <h2>Cancellation Policy</h2>
        <p>It's easy to cancel an order. Just enter the exact time (to the second) when your order was placed:</p>
        <form id="delete-form">
            <label for="orderTime">Order Time:</label>
            <input type="text" name="orderTime" id="orderTime" placeholder="Time of Order">
            <br>
            <button type="button" onclick="cancelOrder()">Cancel Order</button>
        </form>
    </div>
	
    <div id="response"></div>

    <script>
        function cancelOrder() {
            var orderTime = document.getElementById('orderTime').value;
            var xhr = new XMLHttpRequest();
            var url = 'cgi/delete.cgi'; // Change this to your actual delete URL
            xhr.open('DELETE', url, true);
			// xhr.open('DELETE', url + '?orderTime=' + encodeURIComponent(orderTime), true);
            xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
		
			xhr.onreadystatechange = function() {
                if (xhr.readyState === 4) {
                    var responseDiv = document.getElementById('response');
                    responseDiv.innerHTML = xhr.responseText;
                }
            };

			var params = 'orderTime=' + encodeURIComponent(orderTime);
            xhr.send(params);
        }
    </script>
</body>
</html>
